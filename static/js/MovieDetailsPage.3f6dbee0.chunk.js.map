{"version":3,"sources":["services/MoviesApi.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js","views/MovieDetailsPage.js"],"names":["fetchTrendMovies","axios","get","then","res","fetchMoviesDetails","movieId","fetchCurrentMovies","search","fetchMoviesByQuery","inputValue","fetchMoviesCast","fetchMoviesReviews","_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","_objectSpread2","target","i","arguments","length","source","forEach","getOwnPropertyDescriptors","defineProperties","Cast","lazy","Reviews","MovieDetailsPage","state","poster_path","original_title","popularity","overview","genres","handleGoBack","props","history","location","from","routes","home","this","match","params","setState","data","url","path","type","onClick","className","src","width","alt","Math","round","map","genre","name","id","to","fallback","component","Component"],"mappings":"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","file":"static/js/MovieDetailsPage.3f6dbee0.chunk.js","sourcesContent":["import axios from 'axios'\n\nexport function fetchTrendMovies() {\n    return axios.get(`http://api.themoviedb.org/3/trending/movie/week?api_key=a4de692f1b0678dfae28764090f39212`)\n        .then(res => res)\n}\n\nexport function fetchMoviesDetails(movieId) {\n    return axios.get(`http://api.themoviedb.org/3/movie/${movieId}?api_key=a4de692f1b0678dfae28764090f39212`)\n        .then(res => res)\n}\n\nexport function fetchCurrentMovies(search) {\n    return axios.get(`https://api.themoviedb.org/3/search/movie${search}&api_key=a4de692f1b0678dfae28764090f39212&language=en-US&page=1`)\n        .then(res => res)\n}\n\nexport function fetchMoviesByQuery(inputValue) {\n    return axios.get(`https://api.themoviedb.org/3/search/movie?query=${inputValue}&api_key=a4de692f1b0678dfae28764090f39212&language=en-US&page=1`)\n}\n\nexport function fetchMoviesCast(movieId) {\n    return axios.get(`http://api.themoviedb.org/3/movie/${movieId}/credits?api_key=a4de692f1b0678dfae28764090f39212`)\n}\n\nexport function fetchMoviesReviews(movieId) {\n    return axios.get(`http://api.themoviedb.org/3/movie/${movieId}/reviews?api_key=a4de692f1b0678dfae28764090f39212`)\n}\n\n\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","import React, { Component, Suspense, lazy } from 'react'\nimport { fetchMoviesDetails } from '../services/MoviesApi'\nimport { Link, Route } from 'react-router-dom'\n// import Cast from '../components/Cast'\n// import Reviews from '../components/Reviews'\nimport routes from '../routes'\nimport '../styles/MovieDetailsPage.scss'\n\nconst Cast = lazy(() =>\n    import('../components/Cast.js' /* webpackChunkName: \"Cast\" */),\n);\n\nconst Reviews = lazy(() =>\n    import('../components/Reviews.js' /* webpackChunkName: \"Reviews\" */),\n);\n\nexport default class MovieDetailsPage extends Component {\n    state = {\n        poster_path: '',\n        original_title: '',\n        popularity: '',\n        overview: '',\n        genres: [],\n\n    }\n\n    componentDidMount() {\n        const { movieId } = this.props.match.params\n        fetchMoviesDetails(movieId).then(res => this.setState({ ...res.data }))\n    }\n\n    handleGoBack = () => {\n        const { history, location } = this.props\n\n        if (location.state && location.state.from) {\n            return history.push(location.state.from)\n        }\n\n        history.push(routes.home)\n    }\n\n\n    render() {\n        const { poster_path, original_title, popularity, overview, genres } = this.state\n        const { url, path } = this.props.match\n        return (\n            <>\n                <button type=\"button\" onClick={this.handleGoBack}>Go back</button>\n                <div className='Details'>\n                    <img src={`https://image.tmdb.org/t/p/w500${poster_path}`} width=\"320\" alt={original_title} />\n                    <div className='DetailsInfo'>\n                        <h1>{original_title}</h1>\n                        <p>User Score: {Math.round(popularity)}</p>\n                        <p>Overview</p>\n                        <p>{overview}</p>\n                        <p>Genres</p>\n                        <ul>\n                            {genres.map(genre =>\n                                <li className='GenreLink' key={genre.id}>{genre.name}</li>\n                            )}\n                        </ul>\n                    </div>\n                </div>\n                <div>\n                    <p>Additional Information</p>\n                    <ul>\n                        <li className='BottomLink'><Link className='BottomLinkAnchor' to={`${url}/cast`}>Cast</Link></li>\n                        <li className='BottomLink'><Link className='BottomLinkAnchor' to={`${url}/reviews`}>Reviews</Link></li>\n                    </ul>\n                </div>\n                <Suspense fallback={<h1>Загружаем...</h1>}>\n                    <Route path={`${path}/cast`} component={Cast}></Route>\n                    <Route path={`${path}/reviews`} component={Reviews}></Route>\n                </Suspense>\n            </>\n        )\n    }\n}"],"sourceRoot":""}